(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4520],{146:(e,t,r)=>{"use strict";r.d(t,{B:()=>function e(t,r,n,a,l){let i=s.Children.map(t,(t,l)=>{if(!s.isValidElement(t))return t;let i=t.type,o="function"==typeof i&&"string"==typeof i.displayName?i.displayName:"",d=n.includes(o)?r:{},u=t.props,c=null==u?void 0:u.children;return s.cloneElement(t,{...d,key:"".concat(a,"-").concat(l)},null!=c?e(c,r,n,a,!!(null==u?void 0:u.asChild)):void 0)});return l?null==i?void 0:i[0]:i}});var s=r(2115)},968:(e,t,r)=>{"use strict";r.d(t,{b:()=>i});var s=r(2115),n=r(3655),a=r(5155),l=s.forwardRef((e,t)=>(0,a.jsx)(n.sG.label,{...e,ref:t,onMouseDown:t=>{var r;t.target.closest("button, input, select, textarea")||(null==(r=e.onMouseDown)||r.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));l.displayName="Label";var i=l},1304:(e,t,r)=>{Promise.resolve().then(r.bind(r,4431))},2719:(e,t,r)=>{"use strict";r.d(t,{In:()=>h,bL:()=>p,mO:()=>f,pd:()=>x});var s=r(5155),n=r(2115),a=r(9708),l=r(146),i=r(6694);let o="InputWrapper",d="InputEl",u="InputIcon",c=(0,i.tv)({slots:{root:["group relative flex w-full overflow-hidden bg-bg-weak-50 text-text-strong-950","min-w-[360px] rounded-8","transition duration-200 ease-out","before:absolute before:inset-0 before:pointer-events-none before:rounded-[inherit]","before:transition before:duration-200 before:ease-out"],wrapper:["group/input-wrapper flex w-full cursor-text items-center bg-bg-weak-50","transition duration-200 ease-out gap-2 px-4"],input:["w-full bg-bg-weak-50 text-paragraph-md uppercase font-styrene font-bold text-text-strong-950","h-12 outline-none transition duration-200 ease-out","placeholder:select-none placeholder:text-text-disabled-300","placeholder:transition placeholder:duration-200 placeholder:ease-out","group-hover/input-wrapper:placeholder:text-text-soft-400","group-has-[input:focus]:placeholder:text-text-soft-400"],icon:["flex size-5 shrink-0 select-none items-center justify-center","transition duration-200 ease-out","group-has-[:placeholder-shown]:text-text-disabled-300","text-text-soft-400","group-has-[:placeholder-shown]:group-hover/input-wrapper:text-text-soft-400"]}});function p(e){let{className:t,children:r,asChild:i,...p}=e,f=n.useId(),x=i?a.DX:"div",{root:h}=c(),m=(0,l.B)(r,{},[o,d,u],f,i);return(0,s.jsx)(x,{className:h({class:t}),...p,children:m})}function f(e){let{className:t,children:r,asChild:n,...l}=e,i=n?a.DX:"label",{wrapper:o}=c();return(0,s.jsx)(i,{className:o({class:t}),...l,children:r})}p.displayName="InputRoot",f.displayName=o;let x=n.forwardRef((e,t)=>{let{className:r,type:n="text",asChild:l,...i}=e,o=l?a.DX:"input",{input:d}=c();return(0,s.jsx)(o,{type:n,className:d({class:r}),ref:t,...i})});function h(e){let{as:t,className:r,...n}=e,{icon:a}=c();return(0,s.jsx)(t||"div",{className:a({class:r}),...n})}x.displayName=d,h.displayName=u},3655:(e,t,r)=>{"use strict";r.d(t,{hO:()=>o,sG:()=>i});var s=r(2115),n=r(7650),a=r(9708),l=r(5155),i=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let r=(0,a.TL)(`Primitive.${t}`),n=s.forwardRef((e,s)=>{let{asChild:n,...a}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,l.jsx)(n?r:t,{...a,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function o(e,t){e&&n.flushSync(()=>e.dispatchEvent(t))}},3855:(e,t,r)=>{"use strict";var s=r(2385);console.log("\uD83D\uDE80 Initializing unified fetch patch early..."),(0,s.HT)()},4431:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>b});var s=r(5155),n=r(285),a=r(2719),l=r(5057),i=r(5427),o=r(2115),d=r(5695),u=r(6320),c=r(146);let p=(0,r(6694).tv)({slots:{root:"group flex items-center gap-1 text-paragraph-xs font-styrene uppercase text-text-strong-950 font-bold"},variants:{disabled:{true:{root:"text-text-disabled-300"}},hasError:{true:{root:"text-text-strong-950"}}}});function f(e){let{children:t,hasError:r,disabled:n,className:a,...l}=e,i=o.useId(),{root:d}=p({hasError:r,disabled:n}),u=(0,c.B)(t,{hasError:r,disabled:n},[],i);return(0,s.jsx)("div",{className:d({class:a}),...l,children:u})}f.displayName="HintRoot";var x=r(4477);let h=(0,x.createServerReference)("40b910f1968de959d2935a4d0863cdd94473be2617",x.callServer,void 0,x.findSourceMapURL,"authenticate");var m=r(7200),v=r(2385);function b(){var e,t,r,c;let p=(0,d.useRouter)(),{update:x}=(0,u.wV)(),{invalidateSession:b}=(0,m.A)(),[g,w]=(0,o.useState)(!1),[j,y]=(0,o.useState)({}),[N,S]=(0,o.useState)(!1),R=async e=>{S(!0),y({});try{let t=await h(e);if(null==t?void 0:t.success)(0,v.RN)(),await x(),b(),p.push("/"),p.refresh();else if(t){let{success:e,...r}=t;y(r)}}catch(e){y({error:"Что-то пошло не так"})}finally{S(!1)}};return(0,s.jsxs)("div",{className:"fixed inset-0 overflow-hidden",children:[(0,s.jsxs)("main",{className:"h-full w-full bg-bg-white-0 px-4 md:px-6 lg:px-8 flex flex-col",children:[(0,s.jsx)("div",{className:"flex justify-center pt-24 md:pt-20 lg:pt-24",children:(0,s.jsxs)("h4",{className:"text-center font-founders text-title-h4 text-text-strong-950",children:["LESYA",(0,s.jsx)("br",{}),"LOG IN"]})}),(0,s.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,s.jsx)("div",{className:"w-full max-w-xs sm:max-w-sm md:max-w-md px-4 sm:px-0",children:(0,s.jsxs)("form",{id:"login-form",action:R,className:"flex flex-col gap-4 w-full",noValidate:!0,children:[(0,s.jsxs)("div",{className:"flex flex-col gap-5 sm:gap-6",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)(l.b,{htmlFor:"username",children:"username"}),(0,s.jsx)(a.bL,{children:(0,s.jsx)(a.mO,{children:(0,s.jsx)(a.pd,{id:"username",name:"username",type:"text",placeholder:"lesya.svet",required:!0})})})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)(l.b,{htmlFor:"password",children:"password"}),(0,s.jsx)(a.bL,{children:(0,s.jsxs)(a.mO,{children:[(0,s.jsx)(a.pd,{id:"password",name:"password",type:g?"text":"password",placeholder:"••••••••",required:!0}),(0,s.jsx)("button",{type:"button",onClick:()=>w(!g),className:"p-1",children:(0,s.jsx)(a.In,{as:g?i.sRK:i.tLq})})]})})]})]}),(null!=(t=null!=(e=j.username)?e:j.password)?t:j.error)&&(0,s.jsx)(f,{hasError:!0,children:null!=(c=null!=(r=j.username)?r:j.password)?c:j.error})]})})}),(0,s.jsx)("div",{className:"h-[15vh]"})]}),(0,s.jsx)("div",{className:"pointer-events-none fixed inset-0 z-50",children:(0,s.jsx)("div",{className:"pointer-events-auto absolute bottom-12 sm:bottom-8 left-1/2 -translate-x-1/2",children:(0,s.jsx)(n.b,{type:"submit",form:"login-form",disabled:N,children:N?"Logging in...":"Log in"})})})]})}},4477:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{callServer:function(){return s.callServer},createServerReference:function(){return a},findSourceMapURL:function(){return n.findSourceMapURL}});let s=r(3806),n=r(1818),a=r(4979).createServerReference},5057:(e,t,r)=>{"use strict";r.d(t,{b:()=>i,n:()=>o});var s=r(5155),n=r(2115),a=r(968),l=r(501);let i=n.forwardRef((e,t)=>{let{className:r,disabled:n,...i}=e;return(0,s.jsx)(a.b,{ref:t,className:(0,l.cn)("text-paragraph-md font-bold font-styrene uppercase text-text-strong-950","flex items-center gap-px",r),"aria-disabled":n,...i})});function o(e){let{className:t,children:r,...n}=e;return(0,s.jsx)("span",{className:(0,l.cn)("text-primary-base","group-aria-disabled:text-text-disabled-300",t),...n,children:r||"*"})}i.displayName="LabelRoot"},7200:(e,t,r)=>{"use strict";r.d(t,{A:()=>p,O:()=>u});var s=r(5155);r(3855);var n=r(6320),a=r(2115),l=r(4258),i=r(6715),o=r(2385);let d=(0,a.createContext)({isAuthenticated:!1,isLoading:!0,user:null,invalidateSession:()=>{}});function u(e){let{children:t}=e;return(0,s.jsx)(n.CP,{refetchInterval:0,refetchOnWindowFocus:!1,refetchWhenOffline:!1,children:(0,s.jsx)(c,{children:t})})}function c(e){let{children:t}=e,r=(0,i.jE)(),{data:n,isLoading:a}=(0,l.Q)();return(0,s.jsx)(d.Provider,{value:{isAuthenticated:!!(null==n?void 0:n.isAuthenticated),isLoading:a,user:null==n?void 0:n.user,invalidateSession:()=>{(0,o.GB)(),r.invalidateQueries({queryKey:[l.e]})}},children:t})}function p(){return(0,a.useContext)(d)}}},e=>{var t=t=>e(e.s=t);e.O(0,[8823,6530,2960,9918,4546,8441,1684,7358],()=>t(1304)),_N_E=e.O()}]);