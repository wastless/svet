(()=>{var e={};e.id=974,e.ids=[974],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10815:(e,t,n)=>{"use strict";n.d(t,{b:()=>l});var r=n(60687),i=n(43210),a=n(8730);let s=(0,n(43222).tv)({slots:{root:["group","relative","flex","items-center","gap-2","font-styrene","md:text-paragraph-md","sm:text-paragraph-sm sm:font-bold","md:font-bold","uppercase","text-adaptive","transition-all","duration-300"],text:[],icon:["transition-transform"],underline:["absolute","bottom-0","h-[2px]","w-0","translate-y-1","transform","bg-adaptive-text","transition-all","duration-700","ease-custom","group-hover:w-1/2"],underlineLeft:["left-0"],underlineRight:["right-0"]},variants:{position:{relative:{},absolute:{root:["absolute","bottom-8","right-8","z-10"]}},iconPosition:{start:{icon:["group-hover:-translate-x-1"]},end:{icon:["group-hover:translate-x-1"]}}},defaultVariants:{position:"relative",iconPosition:"end"}}),l=i.forwardRef(({children:e,icon:t,asChild:n,className:i,position:l,iconPosition:o,...d},c)=>{let u=n?a.DX:"button",h=s({position:l,iconPosition:o}),p=t&&(0,r.jsx)("span",{className:h.icon(),children:t});return(0,r.jsxs)(u,{ref:c,className:h.root({className:i}),...d,children:["start"===o&&p,(0,r.jsx)("span",{className:h.text(),children:e}),"end"===o&&p,(0,r.jsx)("span",{className:`${h.underline()} ${h.underlineLeft()}`}),(0,r.jsx)("span",{className:`${h.underline()} ${h.underlineRight()}`})]})});l.displayName="IconButtonRoot"},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11365:(e,t,n)=>{"use strict";n.d(t,{E$:()=>s,HQ:()=>m,IJ:()=>l,fl:()=>i,kt:()=>o,lQ:()=>c,ne:()=>p,nn:()=>u,th:()=>h,ud:()=>a,v:()=>d});var r=n(60687);function i({className:e="",size:t=16}){return(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:t,height:t,className:e,children:[(0,r.jsx)("g",{clipPath:"url(#arrow-right_a)",children:(0,r.jsx)("path",{fill:"currentColor",d:"M8.757 13.6565L14.414 7.99951L8.757 2.34351L7.343 3.75751L10.586 6.99951H2V8.99951H10.586L7.343 12.2425L8.757 13.6565Z"})}),(0,r.jsx)("defs",{children:(0,r.jsx)("clipPath",{id:"arrow-right_a",children:(0,r.jsx)("path",{d:"M0 0h16v16H0z"})})})]})}function a({className:e="",size:t=20}){return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:t,height:t,className:e,fill:"currentColor",children:(0,r.jsx)("path",{d:"M8 5.5V12h11v-.75C14 9.5 9.5 5.5 9.5 5.5zm0 13V12h11v.75c-5 1.75-9.5 5.75-9.5 5.75z",clipRule:"evenodd",fillRule:"evenodd"})})}function s({className:e="",size:t=20}){return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:t,height:t,className:e,fill:"currentColor",children:(0,r.jsx)("path",{d:"M11 5.5H7v13h4zm6 0h-4v13h4z",clipRule:"evenodd",fillRule:"evenodd"})})}function l({className:e="",size:t=20}){return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:t,height:t,className:e,fill:"currentColor",children:(0,r.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"})})}function o({className:e="",size:t=20}){return(0,r.jsx)("div",{style:{width:t,height:t},className:`border-current animate-spin rounded-full border-b-2 ${e}`})}function d({className:e="",size:t=20}){return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:t,height:t,className:e,fill:"currentColor",children:(0,r.jsx)("path",{d:"M12.5 3H12l-.299.398V3.4l-.003.003-.018.024-.088.108a10 10 0 0 1-.375.422c-.339.36-.848.855-1.52 1.381C8.348 6.392 6.37 7.553 3.82 8.017L3 8.164v7.67l.821.149c2.55.463 4.528 1.624 5.875 2.679q.812.633 1.52 1.381.241.257.464.53l.018.024.002.002.001.001.299.4h4.5V3zm.174 2.326A13 13 0 0 0 12.97 5h1.53v14h-1.53q-.145-.166-.296-.326a16 16 0 0 0-1.745-1.587C9.546 16.006 7.554 14.805 5 14.19V9.81c2.554-.615 4.546-1.815 5.929-2.898a15.6 15.6 0 0 0 1.745-1.586M19.5 6v12h2V6z",clipRule:"evenodd"})})}function c({className:e="",size:t=20}){return(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:t,height:t,className:e,fill:"currentColor",children:[(0,r.jsx)("path",{d:"m16.5 17.44 3.355 2.826 1.289-1.53-4.644-3.91v-.012l-2-1.674L2.145 2.736.856 4.266l4.133 3.48a12 12 0 0 1-1.168.27L3 8.166v7.669l.821.149c2.55.463 4.528 1.624 5.875 2.679q.812.633 1.52 1.381.241.257.464.53l.018.024.002.002.001.001L12 21h4.5zm-2-1.684V19h-1.53q-.145-.166-.296-.326a16 16 0 0 0-1.745-1.587C9.546 16.006 7.554 14.805 5 14.19V9.81c.63-.151 1.225-.339 1.785-.551zM16.5 4v6.902l-2-1.675V5h-1.53a14 14 0 0 1-.296.326c-.322.342-.768.78-1.335 1.255L9.777 5.273q.766-.607 1.44-1.317.24-.257.463-.53l.018-.024.002-.003h.001L12 3h4.5z",clipRule:"evenodd",fillRule:"evenodd"}),(0,r.jsx)("defs",{children:(0,r.jsx)("clipPath",{children:(0,r.jsx)("path",{d:"M0 0h24v24H0z"})})})]})}function u({className:e="",size:t=48}){return(0,r.jsx)("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",width:t,height:t,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}function h({className:e="",size:t=20}){return(0,r.jsx)("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",width:t,height:t,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"})})}function p({className:e="",size:t=20}){return(0,r.jsx)("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",width:t,height:t,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}function m({className:e=""}){return(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"72",height:"34",fill:"none",viewBox:"0 0 64 30",className:e,children:[(0,r.jsx)("g",{clipPath:"url(#a)",children:(0,r.jsx)("path",{fill:"#F90000",d:"M60.8 8.66c.455.455.82.82 1.184 1.229 2.368 2.594 2.641 5.87.865 8.874-.865 1.456-2.05 2.593-3.37 3.594-3.052 2.276-6.468 3.777-10.111 4.733-11.568 3.049-23.228 3.185-34.933.865-3.097-.592-6.103-1.548-8.927-3.095-1.548-.864-2.96-1.866-4.007-3.322C-.276 19.172-.458 16.67.863 14.03c.865-1.775 2.232-3.14 3.78-4.369 2.733-2.184 5.739-3.822 8.972-5.096C25.32-.213 37.39-1.124 49.732 1.288c3.37.637 6.559 1.775 9.474 3.686.592.41 1.184.82 1.73 1.32 1.093.956 1.048 1.274-.136 2.366M49.823 3.7v-.182c-.728-.136-1.412-.318-2.14-.455-9.701-1.638-19.266-1.138-28.693 1.73-4.1 1.228-8.062 2.912-11.569 5.414-1.32.956-2.641 2.003-3.689 3.231-2.414 2.867-2.14 5.78.82 8.1 1.275 1.002 2.778 1.775 4.281 2.458 3.234 1.41 6.65 2.093 10.111 2.594 8.29 1.137 16.578 1.046 24.822-.365 4.418-.773 8.699-2.047 12.616-4.368 1.594-.956 3.097-2.048 4.19-3.55 1.867-2.502 1.685-5.142-.547-7.326-.683-.683-1.457-1.274-2.277-1.82-3.826-2.503-8.061-3.55-12.57-3.459-.957 0-1.959.091-2.915.137-.592 0-1.093-.228-1.139-.865-.045-.546.365-.91.911-.955.957-.137 1.913-.364 2.87-.41 1.64-.045 3.279.046 4.918.091"})}),(0,r.jsx)("defs",{children:(0,r.jsx)("clipPath",{id:"a",children:(0,r.jsx)("path",{fill:"#fff",d:"M0 0h64v29.553H0z"})})})]})}n(43210)},13195:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GlobalError:()=>s.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>h,tree:()=>d});var r=n(65239),i=n(48088),a=n(88170),s=n.n(a),l=n(30893),o={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);n.d(t,o);let d=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(n.bind(n,21204)),"C:\\repositories\\lesya.svet\\src\\app\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(n.bind(n,55524)),"C:\\repositories\\lesya.svet\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(n.bind(n,54413)),"C:\\repositories\\lesya.svet\\src\\app\\not-found.tsx"],forbidden:[()=>Promise.resolve().then(n.t.bind(n,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(n.t.bind(n,65284,23)),"next/dist/client/components/unauthorized-error"]}],c=["C:\\repositories\\lesya.svet\\src\\app\\page.tsx"],u={require:n,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:i.RouteKind.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},15133:(e,t,n)=>{Promise.resolve().then(n.bind(n,21204))},16787:(e,t,n)=>{"use strict";function r(e,t){return!!t&&new Date(new Date(e).getFullYear(),new Date(e).getMonth(),new Date(e).getDate())<=new Date(t.getFullYear(),t.getMonth(),t.getDate())}function i(e,t){let n=new Date(e),r=new Date(t);return n<r?null:Math.floor(Math.floor((n.getTime()-r.getTime())/864e5)/7)+1}n.d(t,{B:()=>r,Z:()=>i})},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21204:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});let r=(0,n(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\repositories\\\\lesya.svet\\\\src\\\\app\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\repositories\\lesya.svet\\src\\app\\page.tsx","default")},23286:(e,t,n)=>{"use strict";n.d(t,{DG:()=>a,H6:()=>i,l$:()=>r});let r={START_DATE:"2025-07-01",CYCLE_LENGTH:365},i={TARGET_DATE:"2025-08-01",UPDATE_INTERVAL:1e3},a=["Hi","Hey","Hola","Bonjour","Hallo","Ciao","Ol\xe1","Czesc","Privet","Merhaba","Salam","Shalom","Ni hao","Namaste","Sawadee","Halo","Jambo","Yia sou","Hall\xf3","Hej","Hej","Ahoj","Hell\xf3"]},25718:(e,t,n)=>{"use strict";n.d(t,{HJ:()=>f,Kv:()=>p,RX:()=>u,Zj:()=>c,sw:()=>h,xj:()=>m});var r=n(51423),i=n(8693),a=n(54050),s=n(34610),l=n(84359),o=n(43210);let d={GIFTS:"gifts",GIFT:e=>["gift",e],GIFT_CONTENT:e=>["gift-content",e]};function c(){return(0,r.I)({queryKey:[d.GIFTS],queryFn:async()=>{let e=Date.now(),t=await fetch(`/api/gifts?_t=${e}`);if(!t.ok)throw Error("Ошибка загрузки подарков");return t.json()},staleTime:0,gcTime:0,refetchOnWindowFocus:!0,refetchOnMount:!0,refetchOnReconnect:!0})}function u(e){return(0,r.I)({queryKey:d.GIFT_CONTENT(e),queryFn:async()=>{let t=Date.now(),n=await fetch(`/api/gift-content/${e}?_t=${t}`);if(!n.ok)throw Error(`Ошибка загрузки контента подарка ${e}`);if(n.redirected){let t=await fetch(n.url);if(!t.ok)throw Error(`Ошибка загрузки контента подарка ${e} из облачного хранилища`);return t.json()}return n.json()},enabled:!!e,staleTime:0,gcTime:0,refetchOnWindowFocus:!0,refetchOnMount:!0,refetchOnReconnect:!0})}function h(e){let t=(0,r.I)({queryKey:d.GIFT(e),queryFn:async()=>{let t=Date.now(),n=await fetch(`/api/gifts/${e}?_t=${t}`);if(!n.ok)throw Error(`Ошибка загрузки подарка ${e}`);return n.json()},enabled:!!e,staleTime:0,gcTime:0,refetchOnWindowFocus:!0,refetchOnMount:!0,refetchOnReconnect:!0}),n=u(e),i=(0,s.Q)(),a=t.isLoading||n.isLoading||i.isLoading,c=t.isError||n.isError||i.isError,h=t.error||n.error||i.error,p=(0,o.useMemo)(()=>a||c?null:{gift:t.data,content:n.data,isAuthenticated:i.data?.isAuthenticated,memoryPhoto:t.data?.memoryPhoto},[a,c,t.data,n.data,i.data?.isAuthenticated]),m=(0,o.useRef)(!1);return{data:p,isLoading:a,isError:c,error:h,refetch:(0,o.useCallback)(async()=>{m.current||(console.log(`🔄 Invalidating cache for gift ${e}`),(0,l.Mb)(e),m.current=!0),await Promise.all([t.refetch(),n.refetch()]),setTimeout(()=>{m.current=!1},500)},[e,t,n])}}function p(){let e=(0,i.jE)();return(0,a.n)({mutationFn:async e=>{let t=await fetch("/api/gifts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error((await t.json()).error||"Ошибка при создании подарка");return t.json()},onSuccess:()=>{e.invalidateQueries({queryKey:[d.GIFTS]}),(0,l.Mb)()}})}function m(e){let t=(0,i.jE)();return(0,a.n)({mutationFn:async t=>{if(!e)throw Error("ID подарка не указан");let n=await fetch(`/api/gifts/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!n.ok)throw Error((await n.json()).error||"Ошибка при обновлении подарка");return n.json()},onSuccess:n=>{e&&(t.setQueryData(d.GIFT(e),n),t.invalidateQueries({queryKey:[d.GIFTS]}),t.invalidateQueries({queryKey:d.GIFT_CONTENT(e)}),(0,l.Mb)(e))}})}function f(){let e=(0,i.jE)();return(0,a.n)({mutationFn:async e=>{if(!(await fetch(`/api/gifts/${e}`,{method:"DELETE"})).ok)throw Error("Ошибка при удалении подарка");return e},onSuccess:t=>{e.invalidateQueries({queryKey:[d.GIFTS]}),e.removeQueries({queryKey:d.GIFT(t)}),e.removeQueries({queryKey:d.GIFT_CONTENT(t)}),(0,l.Mb)(t)}})}},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},85044:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>T});var r=n(60687),i=n(16189),a=n(29523),s=n(43210),l=n(94773);let o=(0,s.memo)(function({days:e,hours:t,minutes:n,seconds:i,className:a}){let s=(e,t)=>`${e} ${t}${1!==e?"s":""}`;return(0,r.jsxs)("div",{className:a,children:[(0,r.jsx)("span",{children:s(e,"day")}),(0,r.jsx)("span",{children:", "}),(0,r.jsx)("span",{children:s(t,"hour")}),(0,r.jsx)("span",{children:", "}),(0,r.jsx)("span",{children:s(n,"minute")}),(0,r.jsx)("span",{children:", "}),(0,r.jsx)("span",{children:s(i,"second")})]})});function d({targetDate:e,updateInterval:t,className:n}){let{currentDate:i}=(0,l.L$)(),[a,d]=(0,s.useState)({days:0,hours:0,minutes:0,seconds:0});return(0,r.jsx)(o,{...a,className:n})}let c=["Charming","Brilliant","Radiant","Elegant","Graceful","Luminous","Creative","Captivating","Stunning","Magnificent","Dazzling","Exquisite","Alluring","Mesmerizing","Breathtaking","Gorgeous","Beautiful","Wonderful","Amazing","Incredible","Fabulous","Marvelous","Spectacular","Outstanding","Exceptional","Remarkable","Extraordinary","Phenomenal","Splendid","Glorious","Divine","Perfect","Adorable","Angelic","Artistic","Attractive","Awesome","Beaming","Beloved","Blissful","Blooming","Bold","Bright","Bubbly","Calm","Caring","Cheerful","Chic","Classy","Clever","Confident","Enchanting","Cute","Daring","Delicate","Delightful","Dreamy","Dynamic","Effervescent","Eloquent","Energetic","Engaging","Enthusiastic","Ethereal","Exciting","Exotic","Expressive","Fascinating","Fearless","Fierce","Flawless","Fresh","Friendly","Fun","Gentle","Genuine","Gifted","Glamorous","Gleaming","Glowing","Golden","Gracious","Grand","Happy","Harmonious","Heavenly","Honest","Hopeful","Humble","Imaginative","Impressive","Independent","Inspiring","Intelligent","Intense","Intuitive","Joyful","Kind","Lively","Lovely","Loyal","Lucky","Magical","Majestic","Melodic","Memorable","Mysterious","Natural","Noble","Optimistic","Original","Passionate","Patient","Peaceful","Playful","Pleasant","Poetic","Polished","Positive","Powerful","Precious","Pretty","Proud","Pure","Radiant","Refined","Refreshing","Relaxed","Reliable","Resilient","Respectful","Romantic","Serene","Shining","Sincere","Smart","Smooth","Soft","Sophisticated","Sparkling","Special","Spirited","Strong","Stylish","Successful","Sweet","Talented","Tender","Thoughtful","Thrilling","Timeless","Tranquil","Treasured","Triumphant","Trustworthy","Unique","Uplifting","Vibrant","Victorious","Vivacious","Warm","Wise","Witty","Youthful","Zealous","Abundant","Accomplished","Admirable","Adventurous","Affectionate","Ambitious","Amiable","Amusing","Appealing","Appreciative","Approachable","Articulate","Assertive","Astounding","Attentive","Balanced","Benevolent","Blissful","Boundless","Brave","Breathtaking","Brilliant","Buoyant","Captivating","Carefree","Celestial","Centered","Charismatic","Charming","Cheerful","Cherished","Chivalrous","Compassionate","Compelling","Composed","Considerate","Courageous","Courteous","Cultured","Dazzling","Decisive","Dedicated","Delightful","Dependable","Determined","Devoted","Dignified","Diplomatic","Distinctive","Distinguished","Driven","Earnest","Easygoing","Ecstatic","Effective","Efficient","Elegant","Empathetic","Empowering","Encouraging","Endearing","Enduring","Enlightened","Entertaining","Enthusiastic","Established","Esteemed","Ethical","Exceptional","Exemplary","Exhilarating","Experienced","Extraordinary","Fabulous","Fair","Faithful","Famous","Fantastic","Fashionable","Favorable","Fearless","Festive","Fiery","Fine","Flexible","Flourishing","Focused","Forgiving","Fortunate","Frank","Free","Generous","Gentle","Genuine","Giving","Glorious","Good","Graceful","Grateful","Great","Growing","Handsome","Hardy","Healthy","Heartfelt","Helpful","Heroic","Honest","Honorable","Hopeful","Hospitable","Humble","Humorous","Idealistic","Imaginative","Immaculate","Impartial","Important","Impressive","Incredible","Independent","Industrious","Influential","Ingenious","Innovative","Insightful","Inspiring","Instinctive","Intelligent","Interesting","Intuitive","Inventive","Joyous","Jubilant","Just","Keen","Kind","Knowledgeable","Leading","Learned","Legendary","Liberal","Likeable","Limitless","Lively","Logical","Lovable","Loving","Loyal","Lucky","Luminous","Magnificent","Majestic","Marvelous","Masterful","Mature","Meaningful","Memorable","Merciful","Meritorious","Merry","Mindful","Miraculous","Modern","Modest","Motivated","Moving","Natural","Nice","Noble","Notable","Nurturing","Observant","Open","Optimistic","Organized","Original","Outstanding","Passionate","Patient","Peaceful","Perfect","Persistent","Phenomenal","Pioneering","Pleasant","Polite","Popular","Positive","Powerful","Practical","Precious","Prepared","Pretty","Principled","Productive","Progressive","Promising","Protective","Radiant"];var u=n(23286);function h({startDate:e,cycleLength:t,currentDate:n,className:i}){let{giftsDate:a}=(0,l.Zj)(),o=function({startDate:e,cycleLength:t,currentDate:n}){return(0,s.useMemo)(()=>{if(!n)return c[0]||"Loading...";let r=new Date(e),i=new Date(u.H6.TARGET_DATE);if(n.toDateString()===i.toDateString())return"Happy Birthday";let a=Math.floor((n.getTime()-r.getTime())/864e5);return a<0?c[0]:c[a%t]||c[0]},[e,t,n])}({startDate:e,cycleLength:t,currentDate:n||a});return(0,r.jsx)("span",{className:i,children:o})}var p=n(10815),m=n(11365),f=n(75667),x=n(27710);function g({onComplete:e}){let[t,n]=(0,s.useState)(0),[i,l]=(0,s.useState)(0),[o,d]=(0,s.useState)(!1),[c,h]=(0,s.useState)(!0),{setNavVisibility:g}=(0,f.r)(),v=(0,s.useCallback)(()=>{x.y.completeIntro(),g(!0),e()},[e,g]),j=(0,s.useCallback)(()=>{0===t?n(1):v()},[t,v]),y=(0,s.useMemo)(()=>(0,r.jsxs)("div",{className:"flex flex-col md:flex-row justify-center items-center font-founders text-title-h3 md:text-title-h2 lg:text-title-h2 uppercase text-adaptive text-center",children:[(0,r.jsxs)("span",{className:"relative overflow-hidden flex justify-center",children:[(0,r.jsx)("span",{className:`inline-block whitespace-nowrap ${o?"animate-fade-out":"animate-fade-in"}`,children:u.DG[i]},`${i}-${o}`),(0,r.jsx)("span",{className:"md:mr-4",children:","})]}),(0,r.jsx)("span",{className:"sm:-mt-2 flex justify-center",children:"LESYA"})]}),[i,o]);return c?(0,r.jsx)("div",{className:"c-loader dark-container",children:(0,r.jsx)("div",{className:"c-loader_spinner c-spinner"})}):(0,r.jsxs)("div",{className:"fixed inset-0 z-[9999] overflow-hidden bg-bg-strong-950 dark-container",children:[(0,r.jsxs)("div",{className:`absolute inset-0 text-adaptive transition-opacity duration-1000 ${0===t?"opacity-100":"pointer-events-none opacity-0"}`,onClick:()=>j(),children:[(0,r.jsx)("div",{className:"absolute left-1/2 top-1/2 -mt-16 sm:-mt-20 md:-mt-28 -translate-x-1/2 -translate-y-1/2 transform",children:y}),(0,r.jsxs)("div",{className:"absolute left-1/2 top-1/2 mt-20 md:mt-10 lg:mt-16 w-full max-w-[550px] -translate-x-1/2 -translate-y-1/2 transform px-4 sm:px-6 md:px-8 text-center font-styrene text-paragraph-xs md:text-paragraph-sm md:font-bold lg:text-paragraph-md lg:font-bold font-bold uppercase text-adaptive",children:[(0,r.jsx)("span",{children:"This website is your personal assistant for your advent calendar gifts. Every day, you'll get a new gift to open — only you can open them, so don't forget to log in :)"}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsx)("span",{children:"***"}),(0,r.jsx)("br",{}),(0,r.jsx)("span",{children:"Your login and password can be found on the card."})]}),(0,r.jsx)("div",{className:"absolute bottom-10 left-1/2 -translate-x-1/2 md:hidden flex flex-col items-center",children:(0,r.jsx)("div",{className:"mt-4 text-center text-paragraph-xs font-styrene uppercase font-bold text-adaptive",children:"Tap to continue"})})]}),(0,r.jsxs)("div",{className:`absolute inset-0 text-adaptive transition-opacity duration-1000 ${1===t?"opacity-100":"pointer-events-none opacity-0"}`,onClick:()=>v(),children:[(0,r.jsx)("div",{className:"absolute left-1/2 top-1/2 -mt-16 sm:-mt-20 md:-mt-28 -translate-x-1/2 -translate-y-1/2 transform",children:y}),(0,r.jsxs)("div",{className:"absolute left-1/2 top-1/2 mt-20 md:mt-10 lg:mt-16 w-full max-w-[550px] -translate-x-1/2 -translate-y-1/2 transform px-4 sm:px-6 md:px-8 text-center font-styrene text-paragraph-xs md:text-paragraph-sm md:font-bold lg:text-paragraph-md lg:font-bold font-bold uppercase text-adaptive",children:["         ",(0,r.jsx)("span",{children:"The roadmap page displays all the open gifts. gallery page — open memories. Some gifts may be kept secret from others. It's easy to find a gift — there is a small Easter egg and a photo sticker."}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsx)("span",{children:"***"}),(0,r.jsx)("br",{}),(0,r.jsx)("span",{children:"Enjoy the gifts, memories and pleasant words ❤️"})]}),(0,r.jsx)("div",{className:"absolute left-1/2 top-1/2 mt-48 md:mt-40 lg:mt-44 -translate-x-1/2 -translate-y-1/2 transform hidden md:block",children:(0,r.jsx)(a.b,{onClick:v,children:"Let's GO"})}),(0,r.jsx)("div",{className:"absolute bottom-10 left-1/2 -translate-x-1/2 md:hidden flex flex-col items-center",children:(0,r.jsx)("div",{className:"mt-4 text-center text-paragraph-xs font-styrene uppercase font-bold text-adaptive",children:"Tap to continue"})})]}),(0,r.jsx)(p.b,{onClick:v,position:"absolute",iconPosition:"end",icon:(0,r.jsx)(m.fl,{size:16}),className:"hidden md:flex",children:"SKIP INTRO"}),(0,r.jsx)("div",{className:"hidden absolute top-6 right-6 z-10",children:(0,r.jsx)(a.b,{onClick:v,className:"text-paragraph-xs py-2 px-4",children:"Skip"})}),(0,r.jsx)("div",{className:"c-introduction_scroll-indicator text-adaptive visible md:block hidden"})]})}var v=n(98468),j=n(56208),y=n(16787),b=n(25718),w=n(40565);let E=(0,n(30036).default)(async()=>{},{loadableGenerated:{modules:["app\\page.tsx -> react-confetti"]},ssr:!1});function T(){let{isAuthenticated:e,isLoading:t}=(0,w.A)(),n=(0,i.useRouter)(),{currentDate:o,isTestMode:c}=(0,l.L$)(),{giftsDate:p}=(0,l.Zj)(),{shouldShowIntro:m,isLoading:f,completeIntro:T}=(0,x.A8)(),{data:N,isLoading:C,error:P}=(0,b.Zj)(),[M,D]=(0,s.useState)(!0),[L,A]=(0,s.useState)(!1),[I,k]=(0,s.useState)({width:0,height:0}),F=(0,s.useRef)(null),G=(0,s.useRef)(null),S=(0,s.useRef)(null),H=(0,s.useRef)(null),R=(0,s.useRef)(null),_=(0,s.useMemo)(()=>{if(!N||!p)return null;let e=N.filter(e=>(0,y.B)(new Date(e.openDate),p)).sort((e,t)=>new Date(t.openDate).getTime()-new Date(e.openDate).getTime());return e.length>0&&e[0]?e[0].id:null},[N,p]);return((0,s.useMemo)(()=>{if(!p||!u.H6.TARGET_DATE)return!1;let e=new Date(u.H6.TARGET_DATE);return p.getDate()===e.getDate()&&p.getMonth()===e.getMonth()},[p]),f||!o||C||t)?(0,r.jsx)(v.l,{}):(0,r.jsxs)("div",{className:"fixed inset-0 overflow-hidden",children:[L&&(0,r.jsx)(E,{width:I.width,height:I.height,recycle:!0,numberOfPieces:200,gravity:.2}),m&&(0,r.jsx)(g,{onComplete:T}),(0,r.jsx)("main",{className:"bg-adaptive h-full w-full overflow-hidden",children:(0,r.jsx)("div",{className:"flex h-full flex-col items-center justify-center px-4 md:px-8",children:M&&(0,r.jsxs)("div",{ref:R,className:"flex flex-col items-center justify-center gap-4 md:gap-10 lg:gap-12 -mt-8",children:[(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,r.jsx)("h2",{ref:G,className:"text-adaptive font-nyghtserif text-label-sm md:text-label-md lg:text-label-lg text-center italic",children:(0,r.jsx)(h,{startDate:u.l$.START_DATE,cycleLength:u.l$.CYCLE_LENGTH,currentDate:p})}),(0,r.jsxs)("h1",{ref:F,className:"text-adaptive text-sm-title-h1 md:text-md-title-h1 lg:text-title-h1 font-founders text-center -mt-2",children:["LESYA",(0,r.jsx)("br",{}),"SVET"]})]}),(0,r.jsxs)("h2",{ref:S,className:"text-adaptive font-styrene text-paragraph-sm md:text-paragraph-md md:font-bold font-bold text-center uppercase",children:["Before the birthday:",(0,r.jsx)("br",{}),(0,r.jsx)(d,{targetDate:u.H6.TARGET_DATE,updateInterval:u.H6.UPDATE_INTERVAL})]})]})})}),(0,r.jsx)("div",{className:"pointer-events-none fixed inset-0 z-50",children:(0,r.jsx)("div",{className:"pointer-events-auto absolute bottom-12 sm:bottom-8 left-1/2 -translate-x-1/2",children:(0,r.jsx)("div",{ref:H,children:(0,r.jsx)(a.b,{onClick:()=>{if(!e)return void n.push("/login");let t=[F.current,G.current,S.current,H.current];j.Ay.to(t,{y:-100,opacity:0,duration:.6,stagger:.05,ease:"power3.in",onComplete:()=>{D(!1),_?n.push(`/gift/${_}?from=home`):n.push("/gift")}})},disabled:!M||t,children:"Let's GO"})})})})]})}},85277:(e,t,n)=>{Promise.resolve().then(n.bind(n,85044))},98468:(e,t,n)=>{"use strict";n.d(t,{l:()=>a,y:()=>i});var r=n(60687);n(43210);let i=({className:e})=>(0,r.jsx)("div",{className:`c-spinner ${e||""}`}),a=()=>(0,r.jsx)("div",{className:"c-loader",children:(0,r.jsx)("div",{className:"c-loader_spinner c-spinner"})})}};var t=require("../webpack-runtime.js");t.C(e);var n=e=>t(t.s=e),r=t.X(0,[447,724,244,740,839],()=>n(13195));module.exports=r})();